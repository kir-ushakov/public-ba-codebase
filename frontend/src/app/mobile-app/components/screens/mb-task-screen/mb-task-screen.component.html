<mat-drawer-container class="task-view-container" hasBackdrop="fasle">
  <mat-drawer-content class="task-view-content">
    <div class="top-panel-holder">
      <ba-mb-task-top-panel 
        (toggleMenu)="toggleMenu()">
      </ba-mb-task-top-panel>
    </div>
    <div class="main-panel-holder">
      @let mode = mode$ | async;
      @if(
        mode === ETaskViewMode.Create || 
        mode === ETaskViewMode.Edit) {
        <ba-mb-task-edit 
          (formValidStatus)="formValidStatus = $event">
        </ba-mb-task-edit>
      }
      @if(mode === ETaskViewMode.View) {
        <ba-mb-task-view></ba-mb-task-view>
      }
    </div>
    <div class="bottom-panel-holder">
      <app-mb-task-view-bottom [enabled]="formValidStatus"></app-mb-task-view-bottom>
    </div>
  </mat-drawer-content>
  <mat-drawer #menuDrawer class="task-view-sidemenu" mode="over" position="end">
    <div class="sidemenu-holder">
      <div
        class="sidemenu-item sidemenu-cancel-btn"
        (click)="editTaskOptionSelected()">
        <img class="sidemenu-item-icon" src="assets/ui/icons/edit.png" />
        <span>Edit</span>
      </div>
      <div class="sidemenu-item sidemenu-done-btn" 
        (click)="completeTask()">
        <img
          class="sidemenu-item-icon"
          src="assets/ui/icons/checkmark-green.png" />
        <span>Done</span>
      </div>
      <div class="sidemenu-item sidemenu-edit-btn" 
        (click)="canceledTask()">
        <img
          class="sidemenu-item-icon"
          src="assets/ui/icons/cancel-cross-icon-gray.png" />
        <span>Cancel</span>
      </div>
      <div
        class="sidemenu-item sidemenu-cancel-btn"
        (click)="deleteTaskOptionSelected()">
        <img class="sidemenu-item-icon" src="assets/ui/icons/rubbish.png" />
        <span>Delete</span>
      </div>
    </div>
  </mat-drawer>
</mat-drawer-container>
